<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-spring/lecture-2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Spring-Basic | Seongkyu-lim</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://seongkyu-lim.github.io/Blog/docs/spring/lecture-2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Spring-Basic | Seongkyu-lim"><meta data-rh="true" name="description" content="본  내용은 김영한님의 스프링 핵심원리 - 기본편을 정리한 내용입니다."><meta data-rh="true" property="og:description" content="본  내용은 김영한님의 스프링 핵심원리 - 기본편을 정리한 내용입니다."><link data-rh="true" rel="icon" href="/Blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://seongkyu-lim.github.io/Blog/docs/spring/lecture-2"><link data-rh="true" rel="alternate" href="https://seongkyu-lim.github.io/Blog/docs/spring/lecture-2" hreflang="en"><link data-rh="true" rel="alternate" href="https://seongkyu-lim.github.io/Blog/docs/spring/lecture-2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Blog/blog/rss.xml" title="Seongkyu-lim RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Blog/blog/atom.xml" title="Seongkyu-lim Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4GGSB9EZYR"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-4GGSB9EZYR",{anonymize_ip:!0})</script><link rel="stylesheet" href="/Blog/assets/css/styles.7aa9ad54.css">
<link rel="preload" href="/Blog/assets/js/runtime~main.6e79dbc8.js" as="script">
<link rel="preload" href="/Blog/assets/js/main.e34ff846.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Blog/"><div class="navbar__logo"><img src="/Blog/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Blog/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Luppy</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Blog/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/Blog/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/seongkyu-lim" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Blog/docs/intro">About Me</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/language/java/start-java">Language</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/computer-science/network/TCPIPprotocol">Computer Science</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/design-pattern/designpattern">Design Pattern</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Blog/docs/spring/spring-triangle">Spring</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Blog/docs/spring/spring-triangle">Spring Triangle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Blog/docs/spring/lecture-1">Spring-Introduce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Blog/docs/spring/lecture-2">Spring-Basic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Blog/docs/spring/lombok">Lombok</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Blog/docs/spring/junit5">Test-JUnit5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Blog/docs/spring/spring-of-toby">Spring Of Toby</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/JPA/introduce">JPA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/infra/github-action">Infra</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/Docker/getstarted">Docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/database/mysql/mysql-1">Database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Blog/docs/project/dano-lunch/pyenv">Project</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Spring</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Spring-Basic</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1><span style="color:#4fddbf">스프링 핵심 원리 - 기본편</span></h1><p>본  내용은 김영한님의 스프링 핵심원리 - 기본편을 정리한 내용입니다.</p><p>(또한 제가 이해한 수준에서 정리한 내용이기 때문에 김영한님 강의의 모든 내용을 포함하지 않습니다.)</p><aside>💡 목표 - 스프링의 핵심원리들을 객체 지향의 원리와 함께 알아보고 이해하자.</aside><h2 class="anchor anchorWithStickyNavbar_LWe7" id="spring을-직접-사용하기-이전에-앞서-히스토리와-개념들을-파악해보자">Spring을 직접 사용하기 이전에 앞서 히스토리와 개념들을 파악해보자!<a class="hash-link" href="#spring을-직접-사용하기-이전에-앞서-히스토리와-개념들을-파악해보자" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="스프링이-나오게된-배경">스프링이 나오게된 배경<a class="hash-link" href="#스프링이-나오게된-배경" title="Direct link to heading">​</a></h3><p>→ 스프링 이전 자바진영의 표준 웹개발(?) 기술은 EJB 였다.</p><p>→ ORM, 분산 처리 지원 등 다양한 기술을 지원했지만 문제가 많았다.</p><p>→ 로드 존슨이라는 개발자가 EJB의 문제점을 지적하고 어떻게 해결할 수 있는지에 대한 <a href="http://www.yes24.com/Product/Goods/798359" target="_blank" rel="noopener noreferrer">책</a>을 출간함.</p><p>→ 이 책에 스프링의 핵심 기술들이 들어가 있음.</p><p>→ 책 출간 직후 유겐 휠러, 얀 카로프가 오픈소스 프로젝트를 제안했으며 유겐 휠러가 지금도 상당 수의 스프링 코드를 개발 중.</p><p>→ 이후로 스프링, 스프링 부트, 스프링 리엑티브 등 다양한 프로젝트가 나오며 지금까지 계속해서 발전 중.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="스프링-프레임워크">스프링 프레임워크<a class="hash-link" href="#스프링-프레임워크" title="Direct link to heading">​</a></h3><ul><li>핵심 기술<ul><li>스프링 DI 컨테이너</li><li>AOP</li><li>이벤트</li><li>기타</li></ul></li><li>웹 기술<ul><li>스프링 MVC</li><li>스프링 WebFlux</li></ul></li><li>데이터 접근 기술<ul><li>트랜잭션</li><li>JDBC</li><li>ORM 지원</li><li>XML 지원</li></ul></li><li>기술 통합<ul><li>캐시</li><li>이메일</li><li>원격접근</li><li>스케줄링</li></ul></li><li>테스트<ul><li>스프링 기반 테스트 지원</li></ul></li><li>언어<ul><li>코틀린</li><li>그루비</li></ul></li></ul><p>위 목록의 다양한 프로젝트를 통합하여 스프링 프레임워크라고 하며, 이러한 스프링 프레임워크(하위의 다양한 프로젝트들)을 편리하게 사용할 수 있게 하는 기술이 “스프링 부트” 이다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="스프링-부트">스프링 부트<a class="hash-link" href="#스프링-부트" title="Direct link to heading">​</a></h3><ul><li>톰캣과 같은 웹 서버를 내장해서 별도의 웹 서버 설치 필요 X</li><li>스프링과 외부 라이브러리 자동 구성 (예전에는 버전끼리 호환이 안되는 문제가 빈번하게 발생했다고 함.)</li><li>설정의 간편화</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="스프링의-핵심-개념컨셉">스프링의 핵심 개념(컨셉)<a class="hash-link" href="#스프링의-핵심-개념컨셉" title="Direct link to heading">​</a></h3><p>객체 지향의 특징을 가장 잘 활용하여 어플리케이션을 개발할 수 있게 하자.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="좋은-객체-지향-설계란-">좋은 객체 지향 설계란 ?!<a class="hash-link" href="#좋은-객체-지향-설계란-" title="Direct link to heading">​</a></h3><p>유연하게 확장하고 수정할 수 있게 하는 것.</p><p>이를 위한 핵심 개념: 다형성</p><p>객체는 서로 얽혀서 협력한다.</p><p>역할과 구현으로 바라보자.</p><p>한계 </p><blockquote><blockquote><p>역할(인터페이스) 자체가 변하면 클라이언트(요청 객체)와 서버(응답 객체) 모두에 큰 변경이 발생한다.</p></blockquote></blockquote><p>따라서 <strong>인터페이스를 안정적으로 잘 설계</strong>한는 것이 중요하다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="스프링과-객체-지향">스프링과 객체 지향<a class="hash-link" href="#스프링과-객체-지향" title="Direct link to heading">​</a></h3><ul><li>다형성이 가장 중요</li><li>스프링은 다형성을 극대화해서 이용할 수 있게 도와준다.</li><li>이를 위한 기술이 IoC, DI</li><li>레고 블럭 조립하듯이</li><li>다형성 + SOLID 원칙</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solid-by-로버트-마틴">SOLID (by. 로버트 마틴)<a class="hash-link" href="#solid-by-로버트-마틴" title="Direct link to heading">​</a></h3><p>단일책임원칙</p><ul><li>변경시 영향을 미치는 규모가 작을수록 단일 책임원칙을 잘 지켰다고 볼 수 있을 것이다.</li></ul><p>개방폐쇄원칙 (중요)</p><ul><li>다형성을 활용하면 확장에는 개방적이며 변경에는 폐쇄적인 원칙을 실천할 수 있다.<ul><li>소프트웨어 요소를 새롭게 확장해도 사용 영역의 변경은 닫혀 있도록.</li></ul></li><li>인터페이스의 구현체를 만드는 것이 기존 코드에 변경 처리</li><li>다만 클라이언트 코드에서 사용하는 구현체가 달라지면 변경이 필요함.<ul><li>이를 해결하기위해 DI가 존재.</li></ul></li></ul><p>리스코프 치환 원칙</p><ul><li>다형성에서 하위 클래스는 인터페이스 규약을 다 지켜야 한다는 것</li></ul><p>인터페이스 분리 원칙</p><ul><li>특정 클라이언트를 위한 인터페이스 여러 개가 범용 인터페이스 하나보다 낫다</li></ul><p>의존관계 역전 원칙 (중요)</p><ul><li>프로그래머는 “추상화에 의존해야지, 구체화에 의존하면 안된다.”</li><li>그냥 해당 객체를 알면 의존하는 것이다 ㅎ<ul><li>가령 Controller에서 서비스 인터페이스의 구현체를 직접할당하면 인터페이스(추상화)에도 의존하고 구현체(구체화)에도 의존하게 된다. 따라서 스프링은 DI를 통해 추상화에만 의존하도록 한다.</li></ul></li><li>구현체를 사용할 때 어떻게 표시 안하게 할 수 있을까 ?<ul><li>제 3의 객체가 구현체를 밖에서 넣어준다면, 즉 DI를 통해 구현체를 사용단에서 표시하지 않을 수 있게 된다.</li><li>ex) private MemberService memberService;</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="다시-스프링과-solid객체지향">다시, 스프링과 SOLID(객체지향)<a class="hash-link" href="#다시-스프링과-solid객체지향" title="Direct link to heading">​</a></h3><ul><li>SOLID 특히 계방폐쇄원칙과 의존관계역전원칙을 지키면 자연스레 스프링 프레임워크가 만들어짐.</li><li>한단계 추상화 되어있기 때문에 실무적 관점에서 코드를 한 번 더 까보아야하는 비용이 발생.</li><li>변경 및 확장 가능성이 클지를 잘 판단하여 추상화를 할지 말지 결정하는 것이 좋다.</li><li>처음에는 구현체를 바로 사용하고 추후에 추상화를 하는 것도 좋은 방법이 될 수 있다.</li><li>이러한 것들을 잘 판단하여 아키텍쳐를 설계할 수 있는 능력을 갖춰보자.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="참고자료">참고자료<a class="hash-link" href="#참고자료" title="Direct link to heading">​</a></h3><p>*<strong>*<a href="https://www.quickprogrammingtips.com/spring-boot/history-of-spring-framework-and-spring-boot.html" target="_blank" rel="noopener noreferrer">스프링역사</a><a href="https://ko.wikipedia.org/wiki/%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D" target="_blank" rel="noopener noreferrer">객체지향프로그래밍</a></strong>
*<strong>*<a href="https://ko.wikipedia.org/wiki/SOLID_(%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%EC%84%A4%EA%B3%84)" target="_blank" rel="noopener noreferrer">SOLID</a>**</strong></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="실습을-통해-어떻게-스프링이-객체지향의-원칙을-잘-실천하는지-알아보자">실습을 통해 어떻게 스프링이 객체지향의 원칙을 잘 실천하는지 알아보자!<a class="hash-link" href="#실습을-통해-어떻게-스프링이-객체지향의-원칙을-잘-실천하는지-알아보자" title="Direct link to heading">​</a></h2><p><a href="https://github.com/seongkyu-lim/spring-basic.git" target="_blank" rel="noopener noreferrer">Repo</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="실습-구성">실습 구성<a class="hash-link" href="#실습-구성" title="Direct link to heading">​</a></h3><ul><li>순수 자바 코드로 유저, 주문, 할인 로직 구현 및 DI 구현.</li><li>스프링으로 전환.</li></ul><p> Point</p><ul><li>역할(인터페이스)을 기준으로 다이어그램을 구성하고,</li><li>해당 역할에 대해 여러가지로 구현해주면</li><li>객체지향적인 다이어그램이 완성된다.</li></ul><blockquote><blockquote><p>구현체는 요구사항이 변경되거나하면 추가하여 갈아끼워주기만 하면됨.</p></blockquote></blockquote><p>번외로 꿀팀 intellij 단축키.</p><ul><li>F2누르면 에러난 곳으로 바로 이동</li><li>command + n. → generator</li><li>자동완성 시, command + shift + enter 누르면 세미클론까지 포함하여 완성시킴.</li><li>psvm (main method 생성)</li></ul><p>실습 강의를 들으면서 새로 알게된 혹은 잊고 있었던 지식들.</p><ul><li><p>primitive 타입이 아닌 인스턴스 타입을 사용하는 이유 : primitive는 null이 안담기기 때문에 db와 연동시 불편할 수 있기 때문</p></li><li><p>ApplicationContext를 스프링 컨테이너라고 하며, @Contiguration이 붙은 파일을 설정(구성) 정보로 사용한다. @Bean이라 적힌 메서드를 모두 호출해서 객체를 스프링 컨테이너에 등록한다.</p></li><li><p>BeanFactory : 스프링 컨테이너의 최상위 인터페이스 이다. ( ApplicationContext → BeanFactory )</p></li><li><p>Bean을 조회하고 하는 빈관련 기능이 BeanFactory에 정의되어있으며 이를 포함하여 부가기능이 추가되어있는 ApplicationContext로 BeanFactory의 기능을 사용한다. 둘다 스프링 컨테이너라 보면된다.</p></li><li><p>BeanDefinition : 스프링이 설정 정보를 java, xml, 등 다양한 타입을 지원해주는 이유는 spring은 결국 BeanDefinition 객체를 읽으며 해당 여러 타입에서는 BeanDefinition으로 변환(추상화?)하는 기능이 있기 때문이다. (~Reader)</p></li><li><p>Singleton :</p><ul><li>싱글톤 패턴을 적용하지 않는 다면, 웹 어플리케이션 특성상 여러 유저가 요청을 하는데, 요청 할 때마다 객체 생성 → 메모리 낭비!  이를 해결하기 위해 여러번의 요청이와도 동일한 객체를 사용하도록 하자 !→ 싱글톤,</li><li>싱글톤 패턴을 구현하는 방법은 여러가지가 있다.</li><li>싱글톤 패턴은 다음과 같은 여러가지 문제점이 있어서 안티패턴으로도 불리는데, 스프링의 싱글톤 컨테이너(스프링컨테이너)는 이러한 여러 문제점을 해결하였다.<ol><li>싱글톤 패턴을 구현하는 코드 자체가 많이 들어간다.</li><li>의존관계상 클라이언트가 구체 클래스에 의존한다. DIP를 위반한다.</li><li>클라이언트가 구체 클래스에 의존해서 OCP 원칙을 위반할 가능성이 높다.</li><li>테스트하기 어렵다.</li></ol></li><li>스프링에서 싱글톤 패턴을 사용하기 때문에 주의해야할 점.<ul><li>싱글톤 패턴이든, 스프링 같은 싱글톤 컨테이너를 사용하든, 객체 인스턴스를 하나만 생성해서 공유하는
싱글톤 방식은 여러 클라이언트가 하나의 같은 객체 인스턴스를 공유하기 때문에 싱글톤 객체는 상태를
유지(stateful)하게 설계하면 안된다.</li><li>무상태(stateless)로 설계해야 한다!<ul><li>특정 클라이언트에 의존적인 필드가 있으면 안된다.</li><li>특정 클라이언트가 값을 변경할 수 있는 필드가 있으면 안된다!</li><li>가급적 읽기만 가능해야 한다.</li><li>필드 대신에 자바에서 공유되지 않는, 지역변수, 파라미터, ThreadLocal 등을 사용해야 한다.</li></ul></li><li>스프링 빈의 필드에 공유 값을 설정하면 정말 큰 장애가 발생할 수 있다!!!<ul><li>ex 결제 값 price를 빈에 필드로 보관하는 경우 여러 명의 유저가 해당 빈에 접근하여 price가 변경됨에 따라 다른 값이 다른 유저에게 갈 수 있다.</li></ul></li></ul></li><li>@Configuration 을 붙이면 new 키워드를 여러번 호출해도 싱글톤을 보장해줌. (cglib를 이용해서)</li></ul></li><li><p>Component Scan :</p><ul><li>@ComponentScan은 @SpringBootApplication에 내제되서 전체 @Component들을 스캔하여 빈을 생성하며, 특정 옵션으로 특정 객체의 빈생성을 제외하고 포함시킬 수 있다.</li><li>빈의 중복 등록 상황 시 (자동 vs 자동, 수동 vs 자동) 빈 충돌 에러를 낸다.</li></ul></li><li><p>DI :</p><ul><li>4 Way<ul><li>생성자 주입<ul><li>이름 그대로 생성자를 통해 의존성을 주입받는 방식.</li><li>한 번만 주입됨을 보장한다. setter등이 있지 않는 이상 이후에 변경될 수 없다.</li><li>생성자가 하나 일 때는, 생성자에 @autowired를 붙이지 않아도 된다.<ul><li>이  기능으로 인해, lombok의  @RequiredArgConstructor를 붙여주면 생성자 조차도 쓰지 않아도됨.</li></ul></li><li>권장<ul><li>의존관계 주입은 한번 일어나면 어플리케이션 종료시점까지 의존관계를 변경할 일이 없다.</li><li>수정자 주입, 필드 주입을 사용하면 변경 가능성이 있다.</li><li>즉 의존관계 주입에 대해서 ‘불변’하게 설계할 수 있기 때문에 권장.</li></ul></li><li>생성자 주입으로 구현하면 장점으로,<ol><li><p>테스트 시 주입받아야하는 의존관계들을 명확히 할 수 있으며, </p></li><li><p>final 키워드를 넣을 수 있다. </p><p>(수정자 주입이라면 수정메소드로 의존관계를 넣어주지 않아도 실행 전까지 오류가 없다.) </p><p>final을 넣어주면 생성자에서 값이 설정되지 않는 오류를 컴파일 시점에서 잡아줄 수 있다.</p></li></ol></li></ul></li><li>setter 주입<ul><li>setter를 통해 주입받는 방식. 생성자에 @Autowired 붙여주 듯, setter 메소드에 @Autowired를 붙여주면 된다.</li><li>선택, 변경 가능성이 있는 의존관계에 사용.</li><li>자바빈 프로퍼티 규약의 수정자 메소드 방식을 사용하는 방법.</li></ul></li><li>필드 주입<ul><li>이름 그대로 필드에다가 바로 주입하는 방식.</li><li>필드에 @Autowired를 붙여주면 된다. private이어도 가능함.</li><li>코드가 간결하지만, 외부에서 변경이 불가능해서 테스트하기 힘들다는 치명적인 단점 존재.</li><li>비추.</li><li>테스트 코드에서는 간단하게 사용하기에 사용하는 것도 좋다.</li></ul></li><li>일반 메서드 주입.<ul><li>수정자 주입, 생성자 주입이랑 메서드 명만 (ex. init) 다르지 비슷한 걸로 보면됨. @autowired 붙여주면 된다.</li><li>한번에 여러 필드를 주입 받을 수 있다. (생성자 주입도 동일.)</li></ul></li></ul></li><li>옵션 처리<ul><li>빈주입이 없어도 동작해야되는 경우, 여러가지 옵션을 통해 빈이 없으면 주입 처리를 해서 동작하도록 할 수 있다.<ul><li>required =false</li><li>@Nullable</li><li>Optional(Object)</li></ul></li></ul></li><li>조회 대상 빈이 2개 이상일 때 해결 방법(빈으로 등록해야하는 상위 클래스가 동일한 하위 클래스가 2개 이상)<ul><li>@Autowired 필드 명 매칭 (타입이 상위클래스더라도, 필드명이 하위 클래스 명이면 자동으로 해당되는 타입을 빈으로 생성함.)</li><li>@Quilifier 사용<ul><li>Component에 해당 어노테이션을 붙이고 이름을 지정해준다음, @Autowired 부분에도 동일한 이름으로 어노테이션을 붙여주면 매칭해준다.</li></ul></li><li>@Primary 사용<ul><li>우선순위를 가지게할 클래스에(컴포넌트가 붙은) 해당 어노테이션을 붙여주면 의존관계 주입에 우선순위를 가지게 됨.</li></ul></li></ul></li></ul></li><li><p>빈 생명주기 콜백</p><ul><li><p>스프링 빈의 간단한 라이프사이클 : 객체 생성 → 의존관계 주입</p><ul><li>생성자 주입의 경우에는 동시에 이루어지지만,</li></ul></li><li><p>스프링 빈의 이벤트 라이프사이클 (싱글톤 타입)</p><ul><li>스프링 컨테이너 생성 → 스프링 빈 생성 → 의존관계 주입 → 초기화 콜백 → 사용 → 소멸전콜백 → 스프링 종료<ul><li>여기서 말하는 초기화는 의존관계주입까지 완료된 후 사용할 준비가 된 객체의 상태를 말함.</li><li>초기화콜백메소드를 활용해서 개발자는 의존관계 주입까지 되었음을 알 수 있다.</li></ul></li></ul></li><li><p>스프링 빈 생명주기 콜백 지원 방법 3가지</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">- @PostConstruct , @PreDestroy 권장</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><blockquote><p>콜백 메소드는 어디에 사용하면 용이할까?</p></blockquote></blockquote></li></ul></li><li><p>빈 스코프</p><ol><li>싱글톤 - 디폴트 스코프로 컨테이너의 시작과 종료까지 유지되는 가장 젋은 범위를 가지는 스코프</li><li>프로토타입 <ul><li>스프링컨테이너는 프로토타입 빈의 생성과 의존관계 주입까지만 관여하고 더는 관리하지 않는 짧은 범위의 스코프이다.</li><li>특정 client가 요청하는 시점에 컨테이너는 만들고 주입한다음 던져준 후에 더이상 관리하지 않는다. (반대로 싱글톤 스코프는 관리를 한다.) 즉, 종료는 관리가 필요하다면 클라이언트가 관리해야한다. (즉, @PreDestroy가 동작하지 않는다. )</li><li>클라이언트가 요청할 때마다 새로운 빈을 생성하여 반환한다.</li></ul></li><li>웹 관련 스코프<ol><li>request - HTTP 요청 하나가 들어오고 나갈 때 까지 유지되는 스코프, 각각의 요청마다 별도의 빈 인스턴스가 생성되고 관리된다.</li><li>session - HTTP Session과 동일한 생명주기를 가지는 스코프</li><li>application - 서블릿 컨텍스트와 동일한 생명주기를 가지는 스코프</li></ol></li></ol><ul><li>싱글톤 빈과 프로토타입 비늘 함께 사용할 때 문제점<ul><li>싱글톤이 프로토타입빈을 의존하게 되면 프로토타입빈은 자신의 기능을 상실하게 된다. 그 이유는 싱글톤 객체는 최초 생성 후 의존관계를 주입받고 이후로는 주입받지 않기 때문에 최초에 생성된 프로토타입빈만 사용이 되기 때문이다.<ul><li>이를 해결하는 방법으로 Provider(DL 기능)를 적용할 수 있다.</li></ul></li></ul></li><li>request Scope<ul><li><p>request 요청만다 빈이 생성되고 관리된다. → request마다 구분지어야 하는 경우 적용해볼 수 있다.</p></li><li><p>일반적으로 인터셉터에서 많이 사용한다.</p></li><li><p>컨트롤러 단에서 사용하고 리퀘스트 범위의 빈을 생성자로 주입해줄 때, DL을 통해 요청마다 빈을 주입해 주는 것일까 ? 아니면 리퀘스트 범위의 빈을 의존하고있는 빈도(여기서는 컨트롤러) 같이 초기화되는 것일까 ?</p><blockquote><blockquote><p>Provider와 함께 사용하여 MyLogger빈을 메소드 실행 시점에 주입해준다. ( 이것은 request 스코프 빈이 스프링 컨테이너를 띄우는 시점에는 없기 때문에 에러를 내는 것을 해결하기 위한 이유로도 사용함.)</p></blockquote></blockquote><blockquote><blockquote><p>Scope 어노테이션의 인자로 proxyMode를 설정하여 줄 수도 있다. 이렇게하면 가짜 객체를 일단 넣어주고 나중에 실제로 동작해야할 때 진짜를 넣어줌.</p></blockquote></blockquote></li></ul></li><li>싱글톤이 아닌 스코프들은 꼭 필요한 곳에서만 사용하는 것을 권장한다. 유지보수가 어려워질 수 있다. 가령 request 스코프를 proxyMode를 설정하여 사용할 경우, 싱글톤 객체와의 차이를 클라이언트 단의 코드만 봤을 때 알 수 없다.</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/spring/lecture-2.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Blog/docs/spring/lecture-1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Spring-Introduce</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Blog/docs/spring/lombok"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lombok</div></a></nav></div><br></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#spring을-직접-사용하기-이전에-앞서-히스토리와-개념들을-파악해보자" class="table-of-contents__link toc-highlight">Spring을 직접 사용하기 이전에 앞서 히스토리와 개념들을 파악해보자!</a><ul><li><a href="#스프링이-나오게된-배경" class="table-of-contents__link toc-highlight">스프링이 나오게된 배경</a></li><li><a href="#스프링-프레임워크" class="table-of-contents__link toc-highlight">스프링 프레임워크</a></li><li><a href="#스프링-부트" class="table-of-contents__link toc-highlight">스프링 부트</a></li><li><a href="#스프링의-핵심-개념컨셉" class="table-of-contents__link toc-highlight">스프링의 핵심 개념(컨셉)</a></li><li><a href="#좋은-객체-지향-설계란-" class="table-of-contents__link toc-highlight">좋은 객체 지향 설계란 ?!</a></li><li><a href="#스프링과-객체-지향" class="table-of-contents__link toc-highlight">스프링과 객체 지향</a></li><li><a href="#solid-by-로버트-마틴" class="table-of-contents__link toc-highlight">SOLID (by. 로버트 마틴)</a></li><li><a href="#다시-스프링과-solid객체지향" class="table-of-contents__link toc-highlight">다시, 스프링과 SOLID(객체지향)</a></li><li><a href="#참고자료" class="table-of-contents__link toc-highlight">참고자료</a></li></ul></li><li><a href="#실습을-통해-어떻게-스프링이-객체지향의-원칙을-잘-실천하는지-알아보자" class="table-of-contents__link toc-highlight">실습을 통해 어떻게 스프링이 객체지향의 원칙을 잘 실천하는지 알아보자!</a><ul><li><a href="#실습-구성" class="table-of-contents__link toc-highlight">실습 구성</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Write by Seongkyu Lim, Built with Docusaurus.</div></div></div></footer></div>
<script src="/Blog/assets/js/runtime~main.6e79dbc8.js"></script>
<script src="/Blog/assets/js/main.e34ff846.js"></script>
</body>
</html>